# í•œê¸€ ìë§‰ ê¸°ëŠ¥ êµ¬í˜„ ê³„íšì„œ

**ì‘ì„±ì¼**: 2025-11-17
**ë²„ì „**: 1.0
**ì‘ì„±ì**: AI Podcast Clipper Development Team

---

## ğŸ“‹ ëª©ì°¨
1. [ê°œìš”](#ê°œìš”)
2. [ìš”êµ¬ì‚¬í•­ ë¶„ì„](#ìš”êµ¬ì‚¬í•­-ë¶„ì„)
3. [í˜„ì¬ ì‹œìŠ¤í…œ ë¶„ì„](#í˜„ì¬-ì‹œìŠ¤í…œ-ë¶„ì„)
4. [êµ¬í˜„ ê³„íš](#êµ¬í˜„-ê³„íš)
5. [íŒŒì¼ ë³€ê²½ ì‚¬í•­](#íŒŒì¼-ë³€ê²½-ì‚¬í•­)
6. [ìƒì„¸ êµ¬í˜„ ì„¤ê³„](#ìƒì„¸-êµ¬í˜„-ì„¤ê³„)
7. [í…ŒìŠ¤íŠ¸ ê³„íš](#í…ŒìŠ¤íŠ¸-ê³„íš)
8. [ë°°í¬ ê³„íš](#ë°°í¬-ê³„íš)
9. [ë¦¬ìŠ¤í¬ ë° ëŒ€ì‘ ë°©ì•ˆ](#ë¦¬ìŠ¤í¬-ë°-ëŒ€ì‘-ë°©ì•ˆ)

---

## ê°œìš”

### ëª©ì 
AI Podcast Clipper ë°±ì—”ë“œì— í•œê¸€ ìë§‰ ìƒì„± ê¸°ëŠ¥ì„ ì¶”ê°€í•˜ì—¬, ì˜ì–´ íŒŸìºìŠ¤íŠ¸ í´ë¦½ì— í•œê¸€ ë²ˆì—­ ìë§‰ì„ ì œê³µí•©ë‹ˆë‹¤.

### ë²”ìœ„
- ì˜ì–´ ìë§‰ê³¼ í•œê¸€ ìë§‰ ì˜ìƒì„ ê°ê° ìƒì„±
- ê¸°ì¡´ ì˜ì–´ ìë§‰ ë¡œì§ì€ ìœ ì§€í•˜ê³  ìƒˆë¡œìš´ í•œê¸€ ìë§‰ í•¨ìˆ˜ ì¶”ê°€
- Gemini APIë¥¼ í™œìš©í•œ ìì—°ìŠ¤ëŸ¬ìš´ í•œê¸€ ë²ˆì—­
- Noto Sans KR Bold í°íŠ¸ë¥¼ ì‚¬ìš©í•œ ê°€ë…ì„± ë†’ì€ í•œê¸€ ìë§‰

### ì£¼ìš” ëª©í‘œ
âœ… ì˜ì–´/í•œê¸€ ë‘ ë²„ì „ì˜ ìë§‰ ì˜ìƒ ìƒì„±
âœ… ê¸°ì¡´ ì½”ë“œ êµ¬ì¡° ìœ ì§€ (ìƒˆ í•¨ìˆ˜ ì¶”ê°€ ë°©ì‹)
âœ… ìë§‰ íƒ€ì´ë° ë™ê¸°í™”
âœ… ìì—°ìŠ¤ëŸ¬ìš´ í•œê¸€ ë²ˆì—­

---

## ìš”êµ¬ì‚¬í•­ ë¶„ì„

### ê¸°ëŠ¥ ìš”êµ¬ì‚¬í•­
1. **ì´ì¤‘ ì–¸ì–´ ì¶œë ¥**
   - ê° í´ë¦½ë§ˆë‹¤ ì˜ì–´ ìë§‰ ì˜ìƒ(`clip_X_en.mp4`)ê³¼ í•œê¸€ ìë§‰ ì˜ìƒ(`clip_X_kr.mp4`) ìƒì„±
   - ë™ì¼í•œ S3 ë””ë ‰í† ë¦¬ì— ì—…ë¡œë“œ

2. **í•œê¸€ í°íŠ¸ ì§€ì›**
   - Noto Sans KR Bold í°íŠ¸ ì‚¬ìš©
   - ê¸°ì¡´ Anton í°íŠ¸ëŠ” ì˜ì–´ ìë§‰ìš©ìœ¼ë¡œ ìœ ì§€

3. **ìë§‰ ìŠ¤íƒ€ì¼**
   - í•œ ì¤„ì— ìµœëŒ€ 3ë‹¨ì–´ (í•œê¸€ íŠ¹ì„± ê³ ë ¤)
   - ì˜ì–´ ìë§‰ê³¼ ë™ì¼í•œ íƒ€ì´ë° ì‚¬ìš©
   - í°íŠ¸ í¬ê¸°: 140px (ì˜ì–´ì™€ ë™ì¼)
   - í•˜ë‹¨ ì •ë ¬, ì—¬ë°± 50px

4. **ë²ˆì—­ í’ˆì§ˆ**
   - Gemini APIë¥¼ í†µí•œ ìì—°ìŠ¤ëŸ¬ìš´ êµ¬ì–´ì²´ ë²ˆì—­
   - ë§¥ë½ì„ ê³ ë ¤í•œ ë¬¸ì¥ ë‹¨ìœ„ ë²ˆì—­
   - íŒŸìºìŠ¤íŠ¸ íŠ¹ì„±ì— ë§ëŠ” ìì—°ìŠ¤ëŸ¬ìš´ í•œêµ­ì–´

### ë¹„ê¸°ëŠ¥ ìš”êµ¬ì‚¬í•­
1. **ì„±ëŠ¥**
   - í•œê¸€ ìë§‰ ì¶”ê°€ë¡œ ì¸í•œ ì „ì²´ ì²˜ë¦¬ ì‹œê°„ ì¦ê°€ < 30%
   - Gemini API í˜¸ì¶œ ìµœì í™” (ë°°ì¹˜ ë²ˆì—­)

2. **ì•ˆì •ì„±**
   - ë²ˆì—­ ì‹¤íŒ¨ ì‹œì—ë„ ì˜ì–´ ìë§‰ ì˜ìƒì€ ì •ìƒ ìƒì„±
   - ì—ëŸ¬ ë¡œê¹… ë° ëª¨ë‹ˆí„°ë§

3. **ìœ ì§€ë³´ìˆ˜ì„±**
   - ê¸°ì¡´ ì½”ë“œ êµ¬ì¡° ìµœëŒ€í•œ ìœ ì§€
   - ëª…í™•í•œ í•¨ìˆ˜ ë¶„ë¦¬ ë° ì£¼ì„

---

## í˜„ì¬ ì‹œìŠ¤í…œ ë¶„ì„

### ê¸°ì¡´ ìë§‰ ìƒì„± í”„ë¡œì„¸ìŠ¤
```
1. transcribe_video()
   â””â”€> WhisperXë¡œ ì˜ì–´ ìŒì„±ì„ í…ìŠ¤íŠ¸ë¡œ ë³€í™˜
   â””â”€> ë‹¨ì–´ë³„ start/end íƒ€ì„ìŠ¤íƒ¬í”„ ìƒì„±
   â””â”€> JSON í˜•ì‹: [{"start": float, "end": float, "word": str}, ...]

2. identify_moments()
   â””â”€> Geminië¡œ Q&A êµ¬ê°„ ì‹ë³„
   â””â”€> í´ë¦½ íƒ€ì„ìŠ¤íƒ¬í”„ ë°˜í™˜: [{"start": seconds, "end": seconds}, ...]

3. process_clip() (ê° í´ë¦½ë§ˆë‹¤)
   â””â”€> FFmpegë¡œ ë¹„ë””ì˜¤ ì„¸ê·¸ë¨¼íŠ¸ ì¶”ì¶œ
   â””â”€> Columbia ASDë¡œ í™”ì ê°ì§€
   â””â”€> create_vertical_video()ë¡œ ì„¸ë¡œ ì˜ìƒ ìƒì„±
   â””â”€> create_subtitles_with_ffmpeg()ë¡œ ìë§‰ ì˜¤ë²„ë ˆì´ â¬…ï¸ ì—¬ê¸° ìˆ˜ì • í•„ìš”
   â””â”€> S3 ì—…ë¡œë“œ
```

### ê¸°ì¡´ ìë§‰ í•¨ìˆ˜ ë¶„ì„ (create_subtitles_with_ffmpeg)
**ìœ„ì¹˜**: main.py:142-237

**ì£¼ìš” ë¡œì§**:
1. í´ë¦½ ë²”ìœ„ ë‚´ ì„¸ê·¸ë¨¼íŠ¸ í•„í„°ë§
2. ë‹¨ì–´ë¥¼ max_word(5ê°œ)ì”© ê·¸ë£¹í•‘
3. íƒ€ì„ìŠ¤íƒ¬í”„ë¥¼ clip_start ê¸°ì¤€ìœ¼ë¡œ ìƒëŒ€í™”
4. ASS íŒŒì¼ ìƒì„± (Anton í°íŠ¸, 140px)
5. FFmpegë¡œ ë¹„ë””ì˜¤ì— ìë§‰ ì˜¤ë²„ë ˆì´

**ì¬ì‚¬ìš© ê°€ëŠ¥ ë¶€ë¶„**:
- âœ… ì„¸ê·¸ë¨¼íŠ¸ í•„í„°ë§ ë¡œì§
- âœ… íƒ€ì„ìŠ¤íƒ¬í”„ ìƒëŒ€í™” ë¡œì§
- âœ… ASS íŒŒì¼ ìƒì„± êµ¬ì¡°
- âœ… FFmpeg ìë§‰ ì˜¤ë²„ë ˆì´ ëª…ë ¹ì–´

**ë³€ê²½ í•„ìš” ë¶€ë¶„**:
- âŒ í°íŠ¸ ì´ë¦„ (Anton â†’ Noto Sans KR)
- âŒ max_word ê¸°ë³¸ê°’ (5 â†’ 3)
- â• ë²ˆì—­ ë ˆì´ì–´ ì¶”ê°€

---

## êµ¬í˜„ ê³„íš

### ê°œë°œ ë‹¨ê³„
```
Phase 1: í™˜ê²½ ì„¤ì • (30ë¶„)
  â”œâ”€ Noto Sans KR í°íŠ¸ ì¶”ê°€
  â””â”€ Modal ì´ë¯¸ì§€ ì¬ë¹Œë“œ í…ŒìŠ¤íŠ¸

Phase 2: ë²ˆì—­ í•¨ìˆ˜ ê°œë°œ (1ì‹œê°„)
  â”œâ”€ translate_to_korean() ë©”ì„œë“œ ì¶”ê°€
  â”œâ”€ Gemini API í”„ë¡¬í”„íŠ¸ ìµœì í™”
  â””â”€ ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ (ë²ˆì—­ í’ˆì§ˆ í™•ì¸)

Phase 3: í•œê¸€ ìë§‰ í•¨ìˆ˜ ê°œë°œ (1.5ì‹œê°„)
  â”œâ”€ create_korean_subtitles_with_ffmpeg() í•¨ìˆ˜ ì¶”ê°€
  â”œâ”€ ê¸°ì¡´ ë¡œì§ ì¬ì‚¬ìš© ë° ë²ˆì—­ í†µí•©
  â””â”€ ASS ìŠ¤íƒ€ì¼ í•œê¸€ ìµœì í™”

Phase 4: í†µí•© ë° í…ŒìŠ¤íŠ¸ (1ì‹œê°„)
  â”œâ”€ process_clip() ìˆ˜ì •
  â”œâ”€ S3 ì—…ë¡œë“œ ë¡œì§ ìˆ˜ì •
  â””â”€ ì „ì²´ íŒŒì´í”„ë¼ì¸ í…ŒìŠ¤íŠ¸

Phase 5: ë°°í¬ ë° ëª¨ë‹ˆí„°ë§ (30ë¶„)
  â”œâ”€ Modal ë°°í¬
  â””â”€ ì‹¤ì œ í´ë¦½ìœ¼ë¡œ ê²€ì¦
```

**ì´ ì˜ˆìƒ ì‹œê°„**: 4.5ì‹œê°„

---

## íŒŒì¼ ë³€ê²½ ì‚¬í•­

### main.py ìˆ˜ì • ë‚´ì—­

#### 1. Modal ì´ë¯¸ì§€ ì„¤ì • (Line 34-38)
**ë³€ê²½ ì „**:
```python
.run_commands([
    "mkdir -p /usr/share/fonts/truetype/custom",
    "wget -O /usr/share/fonts/truetype/custom/Anton-Regular.ttf https://raw.githubusercontent.com/google/fonts/main/ofl/anton/Anton-Regular.ttf",
    "fc-cache -f -v"
])
```

**ë³€ê²½ í›„**:
```python
.run_commands([
    "mkdir -p /usr/share/fonts/truetype/custom",
    "wget -O /usr/share/fonts/truetype/custom/Anton-Regular.ttf https://raw.githubusercontent.com/google/fonts/main/ofl/anton/Anton-Regular.ttf",
    "wget -O /usr/share/fonts/truetype/custom/NotoSansKR-Bold.ttf https://raw.githubusercontent.com/google/fonts/main/ofl/notosanskr/NotoSansKR-Bold.ttf",
    "fc-cache -f -v"
])
```

#### 2. ìƒˆ í•¨ìˆ˜ ì¶”ê°€ (Line 240 ì´í›„)
- `create_korean_subtitles_with_ffmpeg()` - ì•½ 120ì¤„
- ìœ„ì¹˜: ê¸°ì¡´ `create_subtitles_with_ffmpeg()` í•¨ìˆ˜ ë°”ë¡œ ë‹¤ìŒ

#### 3. ìƒˆ ë©”ì„œë“œ ì¶”ê°€ (AiPodcastClipper í´ë˜ìŠ¤ ë‚´ë¶€, Line 418 ì´í›„)
- `translate_to_korean()` - ì•½ 35ì¤„
- ìœ„ì¹˜: `identify_moments()` ë©”ì„œë“œ ë°”ë¡œ ë‹¤ìŒ

#### 4. process_clip() í•¨ìˆ˜ ìˆ˜ì • (Line 241-315)
**ë³€ê²½ ìœ„ì¹˜**: Line 302-314

**ë³€ê²½ ì „**:
```python
create_subtitles_with_ffmpeg(transcript_segments, start_time, end_time, vertical_mp4_path, subtitle_output_path, max_word=5)

# S3 ì—…ë¡œë“œ
s3_client.upload_file(str(subtitle_output_path), "ai-podcast-clipper-hamsoo", output_s3_key)
```

**ë³€ê²½ í›„**:
```python
# ì˜ì–´ ìë§‰ ì˜ìƒ ìƒì„±
english_output_path = clip_dir / "pyavi" / "video_with_english_subtitles.mp4"
create_subtitles_with_ffmpeg(transcript_segments, start_time, end_time, vertical_mp4_path, english_output_path, max_word=5)

# í•œê¸€ ìë§‰ ì˜ìƒ ìƒì„±
korean_output_path = clip_dir / "pyavi" / "video_with_korean_subtitles.mp4"
create_korean_subtitles_with_ffmpeg(transcript_segments, start_time, end_time, vertical_mp4_path, korean_output_path, gemini_client, max_word=3)

# S3 ì—…ë¡œë“œ (ì˜ì–´/í•œê¸€ ê°ê°)
english_s3_key = f"{s3_key_dir}/{clip_name}_en.mp4"
korean_s3_key = f"{s3_key_dir}/{clip_name}_kr.mp4"
s3_client.upload_file(str(english_output_path), "ai-podcast-clipper-hamsoo", english_s3_key)
s3_client.upload_file(str(korean_output_path), "ai-podcast-clipper-hamsoo", korean_s3_key)
```

**Note**: `gemini_client`ëŠ” `self.gemini_client`ë¡œ ì ‘ê·¼ ê°€ëŠ¥ (AiPodcastClipper ì¸ìŠ¤í„´ìŠ¤ì—ì„œ)

#### 5. process_clip() í•¨ìˆ˜ ì‹œê·¸ë‹ˆì²˜ ìˆ˜ì • í•„ìš”
**ìœ„ì¹˜**: Line 241

**ë³€ê²½ ì „**:
```python
def process_clip(base_dir: str, original_video_path: str, s3_key: str, start_time: float, end_time: float, clip_index: int, transcript_segments: list):
```

**ë³€ê²½ í›„**:
```python
def process_clip(base_dir: str, original_video_path: str, s3_key: str, start_time: float, end_time: float, clip_index: int, transcript_segments: list, gemini_client):
```

#### 6. process_clip() í˜¸ì¶œë¶€ ìˆ˜ì • í•„ìš”
**ìœ„ì¹˜**: Line 485

**ë³€ê²½ ì „**:
```python
process_clip(base_dir, video_path, s3_key, moment["start"], moment["end"], index, transcript_segments)
```

**ë³€ê²½ í›„**:
```python
process_clip(base_dir, video_path, s3_key, moment["start"], moment["end"], index, transcript_segments, self.gemini_client)
```

---

## ìƒì„¸ êµ¬í˜„ ì„¤ê³„

### 1. translate_to_korean() ë©”ì„œë“œ

**ëª©ì **: ì˜ì–´ ìë§‰ í…ìŠ¤íŠ¸ ë¦¬ìŠ¤íŠ¸ë¥¼ í•œê¸€ë¡œ ì¼ê´„ ë²ˆì—­

**ìœ„ì¹˜**: AiPodcastClipper í´ë˜ìŠ¤ ë‚´ë¶€ (identify_moments ë©”ì„œë“œ ë‹¤ìŒ)

**ì‹œê·¸ë‹ˆì²˜**:
```python
def translate_to_korean(self, subtitle_texts: list[str]) -> list[str]:
    """
    ì˜ì–´ ìë§‰ í…ìŠ¤íŠ¸ë¥¼ í•œê¸€ë¡œ ë²ˆì—­

    Args:
        subtitle_texts: ì˜ì–´ ìë§‰ í…ìŠ¤íŠ¸ ë¦¬ìŠ¤íŠ¸

    Returns:
        í•œê¸€ ë²ˆì—­ í…ìŠ¤íŠ¸ ë¦¬ìŠ¤íŠ¸ (ì…ë ¥ê³¼ ë™ì¼í•œ ê°œìˆ˜)
    """
```

**êµ¬í˜„ ì„¸ë¶€ì‚¬í•­**:

1. **í”„ë¡¬í”„íŠ¸ ì„¤ê³„**:
```python
prompt = f"""
ë‹¹ì‹ ì€ ì „ë¬¸ íŒŸìºìŠ¤íŠ¸ ë²ˆì—­ê°€ì…ë‹ˆë‹¤. ì•„ë˜ ì˜ì–´ ìë§‰ì„ ìì—°ìŠ¤ëŸ¬ìš´ í•œêµ­ì–´ë¡œ ë²ˆì—­í•´ì£¼ì„¸ìš”.

ë²ˆì—­ ê·œì¹™:
1. íŒŸìºìŠ¤íŠ¸ íŠ¹ì„±ìƒ êµ¬ì–´ì²´ë¡œ ë²ˆì—­í•˜ì„¸ìš”
2. ê° ì¤„ì€ ì§§ê³  ì½ê¸° ì‰½ê²Œ ìœ ì§€í•˜ì„¸ìš”
3. ì…ë ¥ëœ ì¤„ ìˆ˜ì™€ ë™ì¼í•œ ìˆ˜ì˜ ë²ˆì—­ì„ ë°˜í™˜í•˜ì„¸ìš”
4. ë¬¸ë§¥ì„ ê³ ë ¤í•˜ì—¬ ìì—°ìŠ¤ëŸ½ê²Œ ë²ˆì—­í•˜ì„¸ìš”
5. ì „ë¬¸ ìš©ì–´ëŠ” ì´í•´í•˜ê¸° ì‰¬ìš´ í•œêµ­ì–´ë¡œ í’€ì–´ì„œ ì„¤ëª…í•˜ì„¸ìš”

ì…ë ¥ (ì˜ì–´ ìë§‰):
{json.dumps(subtitle_texts, ensure_ascii=False)}

ì¶œë ¥ í˜•ì‹: JSON ë°°ì—´ë¡œ ë°˜í™˜
["ë²ˆì—­1", "ë²ˆì—­2", "ë²ˆì—­3", ...]
"""
```

2. **API í˜¸ì¶œ**:
```python
response = self.gemini_client.models.generate_content(
    model="gemini-2.5-flash",
    contents=prompt,
    config=genai.types.GenerateContentConfig(
        response_mime_type="application/json",
        temperature=0.3,  # ì¼ê´€ì„±ì„ ìœ„í•´ ë‚®ì€ temperature
    )
)
```

3. **ì‘ë‹µ íŒŒì‹± ë° ê²€ì¦**:
```python
translated = json.loads(response.text)

# ê²€ì¦: ì…ë ¥ê³¼ ì¶œë ¥ ê°œìˆ˜ê°€ ì¼ì¹˜í•˜ëŠ”ì§€ í™•ì¸
if len(translated) != len(subtitle_texts):
    print(f"Warning: Translation count mismatch. Expected {len(subtitle_texts)}, got {len(translated)}")
    # ë¶€ì¡±í•œ ê²½ìš° ì›ë¬¸ ì¶”ê°€, ì´ˆê³¼í•œ ê²½ìš° ìë¥´ê¸°
    while len(translated) < len(subtitle_texts):
        translated.append(subtitle_texts[len(translated)])
    translated = translated[:len(subtitle_texts)]

return translated
```

4. **ì—ëŸ¬ ì²˜ë¦¬**:
```python
try:
    # ... ë²ˆì—­ ë¡œì§ ...
except Exception as e:
    print(f"Translation error: {e}")
    # ë²ˆì—­ ì‹¤íŒ¨ ì‹œ ì›ë¬¸ ë°˜í™˜
    return subtitle_texts
```

### 2. create_korean_subtitles_with_ffmpeg() í•¨ìˆ˜

**ëª©ì **: í•œê¸€ ìë§‰ì´ í¬í•¨ëœ ë¹„ë””ì˜¤ ìƒì„±

**ìœ„ì¹˜**: create_subtitles_with_ffmpeg í•¨ìˆ˜ ë°”ë¡œ ë‹¤ìŒ

**ì‹œê·¸ë‹ˆì²˜**:
```python
def create_korean_subtitles_with_ffmpeg(
    transcript_segments: list,
    clip_start: float,
    clip_end: float,
    clip_video_path: str,
    output_path: str,
    gemini_client,
    max_word: int = 3
):
    """
    í•œê¸€ ìë§‰ì´ í¬í•¨ëœ ë¹„ë””ì˜¤ ìƒì„±

    Args:
        transcript_segments: WhisperX ì „ì‚¬ ê²°ê³¼ (ë‹¨ì–´ ë‹¨ìœ„)
        clip_start: í´ë¦½ ì‹œì‘ ì‹œê°„ (ì´ˆ)
        clip_end: í´ë¦½ ì¢…ë£Œ ì‹œê°„ (ì´ˆ)
        clip_video_path: ì…ë ¥ ë¹„ë””ì˜¤ ê²½ë¡œ
        output_path: ì¶œë ¥ ë¹„ë””ì˜¤ ê²½ë¡œ
        gemini_client: Gemini API í´ë¼ì´ì–¸íŠ¸
        max_word: í•œ ì¤„ì— ë“¤ì–´ê°ˆ ìµœëŒ€ ë‹¨ì–´ ìˆ˜ (ê¸°ë³¸ê°’: 3)
    """
```

**êµ¬í˜„ ë¡œì§**:

```python
def create_korean_subtitles_with_ffmpeg(transcript_segments, clip_start, clip_end, clip_video_path, output_path, gemini_client, max_word=3):
    temp_dir = os.path.dirname(output_path)
    subtitle_path = os.path.join(temp_dir, "temp_korean_subtitles.ass")

    # Step 1: í´ë¦½ ë²”ìœ„ ë‚´ ì„¸ê·¸ë¨¼íŠ¸ í•„í„°ë§ (ê¸°ì¡´ ë¡œì§ ì¬ì‚¬ìš©)
    clip_segments = [segment for segment in transcript_segments
                    if segment.get("start") is not None
                    and segment.get("end") is not None
                    and segment.get("start") < clip_end
                    and segment.get("end") > clip_start]

    # Step 2: ë‹¨ì–´ë¥¼ max_wordì”© ê·¸ë£¹í•‘í•˜ê³  ì˜ì–´ í…ìŠ¤íŠ¸ ìˆ˜ì§‘
    english_subtitles = []  # [(start, end, english_text), ...]
    current_words = []
    current_start = None
    current_end = None

    for segment in clip_segments:
        word = segment.get("word", "").strip()
        seg_start = segment.get("start")
        seg_end = segment.get("end")

        if not word or seg_start is None or seg_end is None:
            continue

        # ìƒëŒ€ ì‹œê°„ìœ¼ë¡œ ë³€í™˜
        start_rel = max(0.0, seg_start - clip_start)
        end_rel = max(0.0, seg_end - clip_start)

        if end_rel <= 0:
            continue

        if not current_words:
            current_start = start_rel
            current_end = end_rel
            current_words = [word]
        elif len(current_words) >= max_word:
            # í˜„ì¬ ê·¸ë£¹ ì™„ì„±
            english_subtitles.append((current_start, current_end, ' '.join(current_words)))
            current_words = [word]
            current_start = start_rel
            current_end = end_rel
        else:
            current_words.append(word)
            current_end = end_rel

    # ë§ˆì§€ë§‰ ê·¸ë£¹ ì¶”ê°€
    if current_words:
        english_subtitles.append((current_start, current_end, ' '.join(current_words)))

    # Step 3: ì˜ì–´ í…ìŠ¤íŠ¸ë§Œ ì¶”ì¶œ
    english_texts = [text for _, _, text in english_subtitles]

    # Step 4: Geminië¡œ ì¼ê´„ ë²ˆì—­
    # NOTE: gemini_clientëŠ” AiPodcastClipper ì¸ìŠ¤í„´ìŠ¤ì—ì„œ ì „ë‹¬ë°›ìŒ
    # í•˜ì§€ë§Œ ì´ í•¨ìˆ˜ëŠ” ì „ì—­ í•¨ìˆ˜ì´ë¯€ë¡œ, AiPodcastClipperì˜ ë©”ì„œë“œë¥¼ ì§ì ‘ í˜¸ì¶œí•  ìˆ˜ ì—†ìŒ
    # í•´ê²° ë°©ë²•: ë²ˆì—­ í•¨ìˆ˜ë„ ì „ì—­ í•¨ìˆ˜ë¡œ ë§Œë“¤ê±°ë‚˜, gemini_clientë¥¼ ì§ì ‘ ì‚¬ìš©

    # ë²ˆì—­ í”„ë¡¬í”„íŠ¸
    prompt = f"""
ë‹¹ì‹ ì€ ì „ë¬¸ íŒŸìºìŠ¤íŠ¸ ë²ˆì—­ê°€ì…ë‹ˆë‹¤. ì•„ë˜ ì˜ì–´ ìë§‰ì„ ìì—°ìŠ¤ëŸ¬ìš´ í•œêµ­ì–´ë¡œ ë²ˆì—­í•´ì£¼ì„¸ìš”.

ë²ˆì—­ ê·œì¹™:
1. íŒŸìºìŠ¤íŠ¸ íŠ¹ì„±ìƒ êµ¬ì–´ì²´ë¡œ ë²ˆì—­í•˜ì„¸ìš”
2. ê° ì¤„ì€ ì§§ê³  ì½ê¸° ì‰½ê²Œ ìœ ì§€í•˜ì„¸ìš”
3. ì…ë ¥ëœ ì¤„ ìˆ˜ì™€ ë™ì¼í•œ ìˆ˜ì˜ ë²ˆì—­ì„ ë°˜í™˜í•˜ì„¸ìš”
4. ë¬¸ë§¥ì„ ê³ ë ¤í•˜ì—¬ ìì—°ìŠ¤ëŸ½ê²Œ ë²ˆì—­í•˜ì„¸ìš”
5. ì „ë¬¸ ìš©ì–´ëŠ” ì´í•´í•˜ê¸° ì‰¬ìš´ í•œêµ­ì–´ë¡œ í’€ì–´ì„œ ì„¤ëª…í•˜ì„¸ìš”

ì…ë ¥ (ì˜ì–´ ìë§‰):
{json.dumps(english_texts, ensure_ascii=False)}

ì¶œë ¥ í˜•ì‹: JSON ë°°ì—´ë¡œ ë°˜í™˜
["ë²ˆì—­1", "ë²ˆì—­2", "ë²ˆì—­3", ...]
"""

    try:
        response = gemini_client.models.generate_content(
            model="gemini-2.5-flash",
            contents=prompt,
            config=genai.types.GenerateContentConfig(
                response_mime_type="application/json",
                temperature=0.3,
            )
        )

        korean_texts = json.loads(response.text)

        # ê²€ì¦
        if len(korean_texts) != len(english_texts):
            print(f"Warning: Translation count mismatch. Expected {len(english_texts)}, got {len(korean_texts)}")
            while len(korean_texts) < len(english_texts):
                korean_texts.append(english_texts[len(korean_texts)])
            korean_texts = korean_texts[:len(english_texts)]

    except Exception as e:
        print(f"Translation error: {e}. Using original English text.")
        korean_texts = english_texts

    # Step 5: í•œê¸€ ìë§‰ê³¼ íƒ€ì´ë° ë§¤í•‘
    korean_subtitles = []
    for i, (start, end, _) in enumerate(english_subtitles):
        korean_subtitles.append((start, end, korean_texts[i]))

    # Step 6: ASS íŒŒì¼ ìƒì„± (í•œê¸€ í°íŠ¸ ì‚¬ìš©)
    subs = pysubs2.SSAFile()

    subs.info["WrapStyle"] = 0
    subs.info["ScaledBorderAndShadow"] = "yes"
    subs.info["PlayResX"] = 1080
    subs.info["PlayResY"] = 1920
    subs.info["ScriptType"] = "v4.00+"

    # í•œê¸€ ìŠ¤íƒ€ì¼ ì„¤ì •
    style_name = "Korean"
    korean_style = pysubs2.SSAStyle()
    korean_style.fontname = "Noto Sans KR"  # í•œê¸€ í°íŠ¸
    korean_style.fontsize = 140
    korean_style.primary_color = pysubs2.Color(255, 255, 255)
    korean_style.border_style = 1
    korean_style.outline = 2.0
    korean_style.shadow = 2.0
    korean_style.shadowcolor = pysubs2.Color(0, 0, 0, 128)
    korean_style.alignment = 2  # í•˜ë‹¨ ì¤‘ì•™
    korean_style.marginl = 50
    korean_style.marginr = 50
    korean_style.marginv = 50
    korean_style.spacing = 0.0

    subs.styles[style_name] = korean_style

    # ìë§‰ ì´ë²¤íŠ¸ ì¶”ê°€
    for start, end, text in korean_subtitles:
        start_time = pysubs2.make_time(s=start)
        end_time = pysubs2.make_time(s=end)
        line = pysubs2.SSAEvent(start=start_time, end=end_time, style=style_name, text=text)
        subs.events.append(line)

    # ASS íŒŒì¼ ì €ì¥
    subs.save(subtitle_path)

    # Step 7: FFmpegë¡œ ìë§‰ ì˜¤ë²„ë ˆì´
    ffmpeg_cmd = (f"ffmpeg -y -i {clip_video_path} -vf \"ass={subtitle_path}\" "
                  f"-c:v h264 -preset fast -crf 23 {output_path}")

    subprocess.run(ffmpeg_cmd, shell=True, check=True)
```

### 3. process_clip() í•¨ìˆ˜ ìˆ˜ì •

**ë³€ê²½ ì‚¬í•­**:

1. **í•¨ìˆ˜ ì‹œê·¸ë‹ˆì²˜ ìˆ˜ì •** (gemini_client ì¶”ê°€):
```python
def process_clip(base_dir: str, original_video_path: str, s3_key: str, start_time: float, end_time: float, clip_index: int, transcript_segments: list, gemini_client):
```

2. **ê²½ë¡œ ë³€ìˆ˜ ìˆ˜ì •**:
```python
# ê¸°ì¡´
subtitle_output_path = clip_dir / "pyavi" / "video_with_subtitles.mp4"

# ë³€ê²½ í›„
english_output_path = clip_dir / "pyavi" / "video_with_english_subtitles.mp4"
korean_output_path = clip_dir / "pyavi" / "video_with_korean_subtitles.mp4"
```

3. **ìë§‰ ìƒì„± ë¡œì§ ìˆ˜ì •**:
```python
# ì˜ì–´ ìë§‰ ìƒì„±
create_subtitles_with_ffmpeg(transcript_segments, start_time, end_time, vertical_mp4_path, english_output_path, max_word=5)

# í•œê¸€ ìë§‰ ìƒì„±
create_korean_subtitles_with_ffmpeg(transcript_segments, start_time, end_time, vertical_mp4_path, korean_output_path, gemini_client, max_word=3)
```

4. **S3 ì—…ë¡œë“œ ë¡œì§ ìˆ˜ì •**:
```python
# S3 í‚¤ ìƒì„±
english_s3_key = f"{s3_key_dir}/{clip_name}_en.mp4"
korean_s3_key = f"{s3_key_dir}/{clip_name}_kr.mp4"

# ì—…ë¡œë“œ
s3_client.upload_file(str(english_output_path), "ai-podcast-clipper-hamsoo", english_s3_key)
s3_client.upload_file(str(korean_output_path), "ai-podcast-clipper-hamsoo", korean_s3_key)

print(f"Uploaded English subtitle video: {english_s3_key}")
print(f"Uploaded Korean subtitle video: {korean_s3_key}")
```

### 4. process_video() ë©”ì„œë“œ ìˆ˜ì •

**ë³€ê²½ ìœ„ì¹˜**: Line 485 (process_clip í˜¸ì¶œë¶€)

**ë³€ê²½ ì „**:
```python
process_clip(base_dir, video_path, s3_key, moment["start"], moment["end"], index, transcript_segments)
```

**ë³€ê²½ í›„**:
```python
process_clip(base_dir, video_path, s3_key, moment["start"], moment["end"], index, transcript_segments, self.gemini_client)
```

---

## í…ŒìŠ¤íŠ¸ ê³„íš

### 1. ë‹¨ìœ„ í…ŒìŠ¤íŠ¸

#### 1.1 í°íŠ¸ ì„¤ì¹˜ í…ŒìŠ¤íŠ¸
**ëª©ì **: Noto Sans KR í°íŠ¸ê°€ ì •ìƒì ìœ¼ë¡œ ì„¤ì¹˜ë˜ì—ˆëŠ”ì§€ í™•ì¸

**ë°©ë²•**:
```bash
# Modal ì»¨í…Œì´ë„ˆ ë‚´ë¶€ì—ì„œ ì‹¤í–‰
fc-list | grep "Noto Sans KR"
```

**ì˜ˆìƒ ê²°ê³¼**:
```
/usr/share/fonts/truetype/custom/NotoSansKR-Bold.ttf: Noto Sans KR:style=Bold
```

#### 1.2 ë²ˆì—­ í•¨ìˆ˜ í…ŒìŠ¤íŠ¸
**ëª©ì **: Gemini API ë²ˆì—­ì´ ì •ìƒ ì‘ë™í•˜ëŠ”ì§€ í™•ì¸

**í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤**:
```python
test_texts = [
    "Hello, how are you today?",
    "This is a podcast about technology.",
    "Let me explain the concept in detail."
]

# ì˜ˆìƒ ì¶œë ¥
expected = [
    "ì•ˆë…•í•˜ì„¸ìš”, ì˜¤ëŠ˜ ì–´ë– ì„¸ìš”?",
    "ì´ê²ƒì€ ê¸°ìˆ ì— ê´€í•œ íŒŸìºìŠ¤íŠ¸ì…ë‹ˆë‹¤.",
    "ê°œë…ì„ ìì„¸íˆ ì„¤ëª…í•´ë“œë¦´ê²Œìš”."
]
```

**ê²€ì¦ í•­ëª©**:
- âœ… ì…ë ¥ê³¼ ì¶œë ¥ ê°œìˆ˜ ì¼ì¹˜
- âœ… í•œê¸€ë¡œ ë²ˆì—­ë˜ì—ˆëŠ”ì§€ í™•ì¸
- âœ… ìì—°ìŠ¤ëŸ¬ìš´ êµ¬ì–´ì²´ì¸ì§€ í™•ì¸

#### 1.3 í•œê¸€ ìë§‰ í•¨ìˆ˜ í…ŒìŠ¤íŠ¸
**ëª©ì **: í•œê¸€ ìë§‰ ASS íŒŒì¼ì´ ì •ìƒ ìƒì„±ë˜ëŠ”ì§€ í™•ì¸

**í…ŒìŠ¤íŠ¸ ë°ì´í„°**:
```python
test_segments = [
    {"start": 0.0, "end": 0.5, "word": "Hello"},
    {"start": 0.5, "end": 1.0, "word": "how"},
    {"start": 1.0, "end": 1.5, "word": "are"},
    {"start": 1.5, "end": 2.0, "word": "you"},
]
```

**ê²€ì¦ í•­ëª©**:
- âœ… ASS íŒŒì¼ ìƒì„± í™•ì¸
- âœ… Noto Sans KR í°íŠ¸ ì‚¬ìš© í™•ì¸
- âœ… íƒ€ì´ë°ì´ ì •í™•í•œì§€ í™•ì¸
- âœ… í•œê¸€ í…ìŠ¤íŠ¸ê°€ í¬í•¨ë˜ì–´ ìˆëŠ”ì§€ í™•ì¸

### 2. í†µí•© í…ŒìŠ¤íŠ¸

#### 2.1 ì „ì²´ íŒŒì´í”„ë¼ì¸ í…ŒìŠ¤íŠ¸
**ëª©ì **: ì˜ì–´/í•œê¸€ ìë§‰ ì˜ìƒì´ ëª¨ë‘ ì •ìƒ ìƒì„±ë˜ëŠ”ì§€ í™•ì¸

**í…ŒìŠ¤íŠ¸ ì‹œë‚˜ë¦¬ì˜¤**:
1. í…ŒìŠ¤íŠ¸ ë¹„ë””ì˜¤ S3 ì—…ë¡œë“œ (`test3/sample.mp4`)
2. API í˜¸ì¶œ: `{"s3_key": "test3/sample.mp4"}`
3. ê²°ê³¼ í™•ì¸:
   - `test3/clip_0_en.mp4` ìƒì„± í™•ì¸
   - `test3/clip_0_kr.mp4` ìƒì„± í™•ì¸
   - `test3/clip_1_en.mp4` ìƒì„± í™•ì¸
   - `test3/clip_1_kr.mp4` ìƒì„± í™•ì¸

**ê²€ì¦ í•­ëª©**:
- âœ… S3ì— ëª¨ë“  íŒŒì¼ ì—…ë¡œë“œ ì™„ë£Œ
- âœ… ì˜ì–´ ìë§‰ ì˜ìƒ ì¬ìƒ ê°€ëŠ¥
- âœ… í•œê¸€ ìë§‰ ì˜ìƒ ì¬ìƒ ê°€ëŠ¥
- âœ… ìë§‰ íƒ€ì´ë° ë™ê¸°í™”
- âœ… í•œê¸€ í°íŠ¸ ë Œë”ë§ ì •ìƒ

#### 2.2 ì—ëŸ¬ ì¼€ì´ìŠ¤ í…ŒìŠ¤íŠ¸

**í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ 1: ë²ˆì—­ API ì‹¤íŒ¨**
- Gemini API íƒ€ì„ì•„ì›ƒ ì‹œë®¬ë ˆì´ì…˜
- ì˜ˆìƒ ë™ì‘: ì˜ì–´ ì›ë¬¸ ìë§‰ ì‚¬ìš©, ê²½ê³  ë¡œê·¸ ì¶œë ¥

**í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ 2: í°íŠ¸ ë¡œë”© ì‹¤íŒ¨**
- í°íŠ¸ íŒŒì¼ ì†ìƒ ì‹œë®¬ë ˆì´ì…˜
- ì˜ˆìƒ ë™ì‘: ê¸°ë³¸ í°íŠ¸ ì‚¬ìš© ë˜ëŠ” ì—ëŸ¬ ë¡œê·¸

### 3. ì„±ëŠ¥ í…ŒìŠ¤íŠ¸

#### 3.1 ì²˜ë¦¬ ì‹œê°„ ì¸¡ì •
**ëª©ì **: í•œê¸€ ìë§‰ ì¶”ê°€ë¡œ ì¸í•œ ì„±ëŠ¥ ì˜í–¥ ì¸¡ì •

**ì¸¡ì • í•­ëª©**:
- ê¸°ì¡´ (ì˜ì–´ë§Œ): í´ë¦½ 1ê°œë‹¹ í‰ê·  ì²˜ë¦¬ ì‹œê°„
- ë³€ê²½ í›„ (ì˜ì–´+í•œê¸€): í´ë¦½ 1ê°œë‹¹ í‰ê·  ì²˜ë¦¬ ì‹œê°„
- ì¦ê°€ìœ¨: < 30% ëª©í‘œ

**ì˜ˆìƒ ê²°ê³¼**:
```
ê¸°ì¡´: ~180ì´ˆ/í´ë¦½
ë²ˆì—­ ì¶”ê°€: ~15ì´ˆ (Gemini API)
ìë§‰ ìƒì„± ì¶”ê°€: ~10ì´ˆ
ì´ ì˜ˆìƒ: ~205ì´ˆ/í´ë¦½ (13.8% ì¦ê°€)
```

#### 3.2 Gemini API ì„±ëŠ¥
**ì¸¡ì • í•­ëª©**:
- ìë§‰ 10ê°œ ì¼ê´„ ë²ˆì—­ ì†Œìš” ì‹œê°„
- API ì‘ë‹µ ì‹œê°„ ë³€ë™ì„±

**ëª©í‘œ**:
- í‰ê·  < 15ì´ˆ
- P95 < 25ì´ˆ

### 4. í’ˆì§ˆ í…ŒìŠ¤íŠ¸

#### 4.1 ë²ˆì—­ í’ˆì§ˆ í‰ê°€
**ë°©ë²•**: ìƒ˜í”Œ í´ë¦½ 3ê°œ ìˆ˜ë™ ê²€í† 

**í‰ê°€ ê¸°ì¤€**:
- ë¬¸ë§¥ ì´í•´ë„: ìƒ/ì¤‘/í•˜
- ìì—°ìŠ¤ëŸ¬ì›€: ìƒ/ì¤‘/í•˜
- ì „ë¬¸ ìš©ì–´ ì²˜ë¦¬: ì ì ˆ/ë¶€ì ì ˆ

#### 4.2 ìë§‰ ê°€ë…ì„± í‰ê°€
**ë°©ë²•**: ì‹¤ì œ ë””ë°”ì´ìŠ¤ì—ì„œ ì¬ìƒ

**í‰ê°€ í•­ëª©**:
- í°íŠ¸ í¬ê¸° ì ì ˆì„±
- ë°°ê²½ê³¼ì˜ ëŒ€ë¹„
- ìë§‰ ì§€ì† ì‹œê°„
- ì¤„ë°”ê¿ˆ ìœ„ì¹˜

---

## ë°°í¬ ê³„íš

### 1. ë°°í¬ ì „ ì²´í¬ë¦¬ìŠ¤íŠ¸
- [ ] ëª¨ë“  ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ í†µê³¼
- [ ] í†µí•© í…ŒìŠ¤íŠ¸ í†µê³¼
- [ ] ì„±ëŠ¥ í…ŒìŠ¤íŠ¸ í†µê³¼
- [ ] ì½”ë“œ ë¦¬ë·° ì™„ë£Œ
- [ ] ë¬¸ì„œ ì—…ë°ì´íŠ¸ (CLAUDE.md)

### 2. ë°°í¬ ë‹¨ê³„

#### Stage 1: ê°œë°œ í™˜ê²½ ë°°í¬
```bash
# Modal ë°°í¬
modal deploy main.py

# í…ŒìŠ¤íŠ¸ í´ë¦½ ìƒì„±
modal run main.py
```

**ê²€ì¦**:
- Modal ì•± ì •ìƒ ë°°í¬ í™•ì¸
- í…ŒìŠ¤íŠ¸ API í˜¸ì¶œ ì„±ê³µ
- S3ì— íŒŒì¼ ì—…ë¡œë“œ í™•ì¸

#### Stage 2: í”„ë¡œë•ì…˜ ë°°í¬
```bash
# í”„ë¡œë•ì…˜ ì‹œí¬ë¦¿ í™•ì¸
modal secret list

# í”„ë¡œë•ì…˜ ë°°í¬
modal deploy main.py --env production
```

### 3. ë¡¤ë°± ê³„íš

**ë¬¸ì œ ë°œìƒ ì‹œ**:
1. ì´ì „ ë²„ì „ ì½”ë“œë¡œ ì¦‰ì‹œ ë¡¤ë°±
2. Modal ì•± ì¬ë°°í¬
3. ë¬¸ì œ ì›ì¸ ë¶„ì„ ë° ìˆ˜ì •

**ë¡¤ë°± ëª…ë ¹**:
```bash
git revert HEAD
modal deploy main.py
```

---

## ë¦¬ìŠ¤í¬ ë° ëŒ€ì‘ ë°©ì•ˆ

### 1. ê¸°ìˆ ì  ë¦¬ìŠ¤í¬

#### ë¦¬ìŠ¤í¬ 1: Gemini API ë¹„ìš© ì¦ê°€
**ì˜í–¥**: í´ë¦½ë‹¹ ë²ˆì—­ API í˜¸ì¶œë¡œ ë¹„ìš© ì¦ê°€

**ëŒ€ì‘ ë°©ì•ˆ**:
- API í˜¸ì¶œ ìµœì í™” (ë°°ì¹˜ ë²ˆì—­)
- ìºì‹± ì „ëµ ê²€í† 
- ë¹„ìš© ëª¨ë‹ˆí„°ë§ ì„¤ì •

**ì˜ˆìƒ ë¹„ìš©**:
- Gemini 2.5 Flash: $0.000075/1K characters (input), $0.0003/1K characters (output)
- ìë§‰ 10ê°œ Ã— í‰ê·  50 characters = 500 characters input
- í•œê¸€ ë²ˆì—­ 500 characters output
- í´ë¦½ë‹¹ ë¹„ìš©: ~$0.0005 (ë§¤ìš° ì €ë ´)

#### ë¦¬ìŠ¤í¬ 2: ì²˜ë¦¬ ì‹œê°„ ì¦ê°€
**ì˜í–¥**: ì „ì²´ íŒŒì´í”„ë¼ì¸ ì²˜ë¦¬ ì‹œê°„ ì¦ê°€

**ëŒ€ì‘ ë°©ì•ˆ**:
- Gemini API ë³‘ë ¬ í˜¸ì¶œ ê²€í† 
- íƒ€ì„ì•„ì›ƒ ì„¤ì • (í˜„ì¬ 900ì´ˆ ìœ ì§€)
- í•„ìš”ì‹œ GPU ì—…ê·¸ë ˆì´ë“œ

#### ë¦¬ìŠ¤í¬ 3: í°íŠ¸ ë Œë”ë§ ì´ìŠˆ
**ì˜í–¥**: í•œê¸€ ìë§‰ì´ ê¹¨ì§€ê±°ë‚˜ í‘œì‹œë˜ì§€ ì•ŠìŒ

**ëŒ€ì‘ ë°©ì•ˆ**:
- Modal ì´ë¯¸ì§€ ë¹Œë“œ ì‹œ í°íŠ¸ ì„¤ì¹˜ ê²€ì¦
- FFmpeg ë¡œê·¸ ëª¨ë‹ˆí„°ë§
- ëŒ€ì²´ í°íŠ¸ ì¤€ë¹„ (Nanum Gothic)

### 2. ìš´ì˜ ë¦¬ìŠ¤í¬

#### ë¦¬ìŠ¤í¬ 4: S3 ìŠ¤í† ë¦¬ì§€ ì¦ê°€
**ì˜í–¥**: í´ë¦½ 2ë°° ìƒì„±ìœ¼ë¡œ ìŠ¤í† ë¦¬ì§€ ë¹„ìš© 2ë°°

**ëŒ€ì‘ ë°©ì•ˆ**:
- S3 Lifecycle ì •ì±… ì„¤ì • (30ì¼ í›„ ì‚­ì œ ë“±)
- ë¶ˆí•„ìš”í•œ í´ë¦½ ìë™ ì •ë¦¬
- ìŠ¤í† ë¦¬ì§€ ì‚¬ìš©ëŸ‰ ëª¨ë‹ˆí„°ë§

#### ë¦¬ìŠ¤í¬ 5: ë²ˆì—­ í’ˆì§ˆ ë¬¸ì œ
**ì˜í–¥**: ë¶€ì •í™•í•œ ë²ˆì—­ìœ¼ë¡œ ì‚¬ìš©ì ê²½í—˜ ì €í•˜

**ëŒ€ì‘ ë°©ì•ˆ**:
- í”„ë¡¬í”„íŠ¸ ì—”ì§€ë‹ˆì–´ë§ ì§€ì† ê°œì„ 
- ì‚¬ìš©ì í”¼ë“œë°± ìˆ˜ì§‘
- í•„ìš”ì‹œ ìˆ˜ë™ ë²ˆì—­ ì˜µì…˜ ì œê³µ

### 3. ëª¨ë‹ˆí„°ë§ ê³„íš

**ëª¨ë‹ˆí„°ë§ ì§€í‘œ**:
1. í´ë¦½ ìƒì„± ì„±ê³µë¥  (ì˜ì–´/í•œê¸€ ê°ê°)
2. í‰ê·  ì²˜ë¦¬ ì‹œê°„
3. Gemini API ì‘ë‹µ ì‹œê°„
4. ë²ˆì—­ ì‹¤íŒ¨ìœ¨
5. S3 ìŠ¤í† ë¦¬ì§€ ì‚¬ìš©ëŸ‰

**ì•Œë¦¼ ì„¤ì •**:
- ì²˜ë¦¬ ì‹¤íŒ¨ìœ¨ > 5%
- í‰ê·  ì²˜ë¦¬ ì‹œê°„ > 250ì´ˆ
- Gemini API ì‹¤íŒ¨ìœ¨ > 10%

---

## ë¶€ë¡

### A. ê´€ë ¨ ë¬¸ì„œ
- [CLAUDE.md](../CLAUDE.md) - í”„ë¡œì íŠ¸ ê°œë°œ ê°€ì´ë“œ
- [Gemini API Documentation](https://ai.google.dev/gemini-api/docs)
- [pysubs2 Documentation](https://pysubs2.readthedocs.io/)

### B. ì°¸ê³  ìë£Œ
- [Noto Sans KR í°íŠ¸](https://fonts.google.com/noto/specimen/Noto+Sans+KR)
- [FFmpeg ASS Subtitle Guide](https://trac.ffmpeg.org/wiki/HowToBurnSubtitlesIntoVideo)

### C. ìš©ì–´ ì •ë¦¬
- **ASS**: Advanced SubStation Alpha (ìë§‰ íŒŒì¼ í˜•ì‹)
- **Gemini**: Googleì˜ ëŒ€ê·œëª¨ ì–¸ì–´ ëª¨ë¸
- **WhisperX**: ë‹¨ì–´ ë‹¨ìœ„ íƒ€ì„ìŠ¤íƒ¬í”„ë¥¼ ì œê³µí•˜ëŠ” ìŒì„± ì¸ì‹ ëª¨ë¸
- **Modal**: ì„œë²„ë¦¬ìŠ¤ GPU í”Œë«í¼

---

**ë¬¸ì„œ ì¢…ë£Œ**
